<div class="w3-container w3-light-grey w3-padding-16">
    <h3>Our Duty List</h3>
</div>
<ul class="w3-ul">
    <li class="w3-padding-16">
        <table class="w3-table w3-bordered w3-hoverable">
            <tr class="w3-padding-16">
                <th>Task</th>
                <th>Name</th>
                <th>Deadline</th>
                <th>State</th>
                <th>Delete</th>
            </tr>
            <tr ng-switch="$ctrl.editMode[$index]" ng-repeat="x in $ctrl.tasks">
                <td class="w3-padding-16">{{x.name}}</td>
                <td class="w3-padding-16">{{x.student}}</td>
                <td class="w3-padding-16">{{x.date | date: 'yyyy-MM-dd'}}</td>
                <td ng-switch-when="true" class="w3-padding-16">
                    <select id="state" class="w3-input w3-border w3-margin-bottom our-input" ng-model="$ctrl.newState">
                        <option ng-value="state" ng-repeat="state in $ctrl.states">
                            {{state}}
                        </option>
                    </select>
                </td>
                <td ng-switch-default class="w3-padding-16">{{x.state}}</td>
                <td class="w3-padding-16"><span ng-click="$ctrl.updateItem($index)" style="cursor:pointer;" class="w3-right w3-margin-right">{{$ctrl.editMode[$index] ? 'Save' : 'Edit'}}</span></td>
                <td class="w3-padding-16"><span ng-click="$ctrl.removeItem($index)" style="cursor:pointer;" class="w3-right w3-margin-right">Ã—</span></td>
            </tr>
        </table>
    </li>
</ul>
<div class="w3-container w3-light-grey w3-padding-16">
    <div class="w3-row our-div">
        <div class="w3-col s2">
            <button ng-click="$ctrl.showTaskForm()" class="w3-btn w3-padding our-button">Add</button>
        </div>
    </div>
</div>
<task-form students="$ctrl.students" on-update="$ctrl.addItem(formData)" errortext="{{$ctrl.errortext}}"></task-form>
